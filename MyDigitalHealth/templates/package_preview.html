{% extends "base_generic.html" %}

{% block content %}
	{% load static %}
	<script src="{% static 'scripts/cardsort.js' %}"></script>
	<!-- Bootstrap Container -->
	<div class="container">
        <div class="row align-items-start">
            <div class="col">
                <h2>{{ active_package.package_name }}</h2>
            </div>
        </div>

        <!-- Cards, initially all in same list titled "Cards" -->
        <div class="cards row align-items-center">
			<li class="list-group-item active">Cards</li>
			<ul id="sortable" class="list-group connection">
                {% for card in card_list %}
                <li class="list-group-item">{{ card.card_text }}</li>
                {% endfor %}
			</ul>
        </div>

        <!-- </div> for each Category -->
        {% for category in category_list %}
        <div class="cards">
            <li class="list-group-item active">{{ category.category_name }}</li>
            <ul class="list-group connection">
            </ul>
        </div>
        {% endfor %}
    {% if request.user.is_superuser %}
        {% include 'admin_preview_options.html' %}
    {% else %}
        <!-- TODO: check this functionality -->
        <div class="row form-group">
            <input id ="cardPackageName" type="hidden" name="name" value="{{ active_package.package_name}}">
            <textarea class="form-control" id="commentText" name="comment" placeholder="Feel free to add any comments"></textarea>
            <button type="submit">Save</button>
        </div>
    {% endif %}
	</div>

{% endblock %}
